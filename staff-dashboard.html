<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAU Inventory - Staff Dashboard</title>
    <link rel="stylesheet" href="staff-dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <header class="header">
            <div class="header-content">
                <div class="logo" onclick="goToDashboard()" style="cursor: pointer;" title="Go to Dashboard">
                    <h1>PAU Inventory</h1>
                    <span>Staff Dashboard</span>
                </div>
                <div class="user-info">
                    <p style="display: none;"><span class="role-badge staff">Staff</span></p>
                    <span id="welcomeMessage">Welcome, Staff!</span>
                    <button id="logoutBtn" class="logout-btn">Logout</button>
                </div>
            </div>
        </header>
        
        <main class="main-content">
            <!-- Daily Tasks Section -->
            <section class="tasks-section">
                <h2>üìã Today's Production Tasks</h2>
                <div class="task-list">
                    <div class="task-item priority-high">
                        <div class="task-status">
                            <input type="checkbox" id="task1" class="task-checkbox">
                            <label for="task1"></label>
                        </div>
                        <div class="task-info">
                            <h3>Prepare 60 Classic Pau</h3>
                            <p>Priority: High | Due: 10:00 AM</p>
                            <div class="task-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%"></div>
                                </div>
                                <span>27/60 completed</span>
                            </div>
                        </div>
                        <span class="task-time">2h 30m</span>
                    </div>
                    
                    <div class="task-item priority-medium">
                        <div class="task-status">
                            <input type="checkbox" id="task2" class="task-checkbox">
                            <label for="task2"></label>
                        </div>
                        <div class="task-info">
                            <h3>Prepare 40 Char Siew Pau</h3>
                            <p>Priority: Medium | Due: 2:00 PM</p>
                            <div class="task-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <span>0/40 completed</span>
                            </div>
                        </div>
                        <span class="task-time">1h 45m</span>
                    </div>
                    
                    <div class="task-item priority-low completed">
                        <div class="task-status">
                            <input type="checkbox" id="task3" class="task-checkbox" checked>
                            <label for="task3"></label>
                        </div>
                        <div class="task-info">
                            <h3>Clean and Sanitize Equipment</h3>
                            <p>Priority: Low | Due: 8:00 AM</p>
                            <div class="task-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 100%"></div>
                                </div>
                                <span>Completed ‚úì</span>
                            </div>
                        </div>
                        <span class="task-time">30m</span>
                    </div>
                    
                    <div class="task-item priority-medium">
                        <div class="task-status">
                            <input type="checkbox" id="task4" class="task-checkbox">
                            <label for="task4"></label>
                        </div>
                        <div class="task-info">
                            <h3>Prepare Lotus Bao Filling</h3>
                            <p>Priority: Medium | Due: 4:00 PM</p>
                            <div class="task-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <span>0/24 completed</span>
                            </div>
                        </div>
                        <span class="task-time">1h 15m</span>
                    </div>
                </div>
            </section>

            <!-- Stock Levels Section -->
            <section class="stock-section">
                <h2>üì¶ Current Stock Levels</h2>
                <div class="stock-grid">
                    <div class="stock-card adequate">
                        <div class="stock-icon">üåæ</div>
                        <div class="stock-info">
                            <h3>All Purpose Flour</h3>
                            <div class="stock-level">
                                <span class="current">15 kg</span>
                                <span class="minimum">Min: 50 kg</span>
                            </div>
                            <div class="stock-status low">Low Stock</div>
                        </div>
                    </div>
                    
                    <div class="stock-card adequate">
                        <div class="stock-icon">üçÆ</div>
                        <div class="stock-info">
                            <h3>Nai Wong Bao</h3>
                            <div class="stock-level">
                                <span class="current">20 pcs</span>
                                <span class="minimum">Min: 35 pcs</span>
                            </div>
                            <div class="stock-status warning">Critical</div>
                        </div>
                    </div>
                    
                    <div class="stock-card good">
                        <div class="stock-icon">ü•ü</div>
                        <div class="stock-info">
                            <h3>Classic Pau</h3>
                            <div class="stock-level">
                                <span class="current">45 pcs</span>
                                <span class="minimum">Min: 80 pcs</span>
                            </div>
                            <div class="stock-status good">Good</div>
                        </div>
                    </div>
                    
                    <div class="stock-card adequate">
                        <div class="stock-icon">üå∏</div>
                        <div class="stock-info">
                            <h3>Lotus Bao</h3>
                            <div class="stock-level">
                                <span class="current">20 pcs</span>
                                <span class="minimum">Min: 35 pcs</span>
                            </div>
                            <div class="stock-status good">Good</div>
                        </div>
                    </div>
                    
                    <div class="stock-card critical">
                        <div class="stock-icon">ü•©</div>
                        <div class="stock-info">
                            <h3>Char Siew</h3>
                            <div class="stock-level">
                                <span class="current">3 kg</span>
                                <span class="minimum">Min: 8 kg</span>
                            </div>
                            <div class="stock-status critical">Critical</div>
                        </div>
                    </div>
                    
                    <div class="stock-card good">
                        <div class="stock-icon">ü´ò</div>
                        <div class="stock-info">
                            <h3>Red Bean Paste</h3>
                            <div class="stock-level">
                                <span class="current">5 kg</span>
                                <span class="minimum">Min: 3 kg</span>
                            </div>
                            <div class="stock-status good">Good</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Pending Actions Section -->
            <section class="alerts-section">
                <h2>‚ö†Ô∏è Pending Actions & Alerts</h2>
                <div class="alert-list">
                    <div class="alert-item urgent">
                        <div class="alert-icon">üî¥</div>
                        <div class="alert-content">
                            <h3>Urgent: Flour Stock Critical</h3>
                            <p>Only 15 kg remaining. Contact supervisor to arrange immediate reorder.</p>
                            <div class="alert-actions">
                                <button class="alert-btn primary">Notify Supervisor</button>
                                <button onclick="showAlertDetails('flour-critical')" class="alert-btn secondary">View Details</button>
                            </div>
                        </div>
                        <span class="alert-time">Just now</span>
                    </div>
                    
                    <div class="alert-item warning">
                        <div class="alert-icon">‚è∞</div>
                        <div class="alert-content">
                            <h3>Warning: Low Char Siew stock from Filling Co.</h3>
                            <p>Only 3 kg of Char Siew remaining. Contact supplier for urgent restock.</p>
                            <div class="alert-actions">
                                <button onclick="contactFillingCo()" class="alert-btn primary">Contact Filling Co.</button>
                                <button onclick="updateProductionPlan()" class="alert-btn secondary">Update Production Plan</button>
                            </div>
                        </div>
                        <span class="alert-time">30 minutes ago</span>
                    </div>
                    
                    <div class="alert-item info">
                        <div class="alert-icon">‚ÑπÔ∏è</div>
                        <div class="alert-content">
                            <h3>Equipment Maintenance Reminder</h3>
                            <p>Mixer #2 scheduled for maintenance next Monday. Plan production accordingly.</p>
                            <div class="alert-actions">
                                <button class="alert-btn primary">Acknowledge</button>
                            </div>
                        </div>
                        <span class="alert-time">Yesterday</span>
                    </div>
                </div>
            </section>

            <!-- Quick Actions Section -->
            <section class="quick-actions">
                <h2>üöÄ Quick Actions</h2>
                <div class="action-grid">
                    <button class="action-btn" onclick="reportStockUsage()">
                        <span class="action-icon">üìù</span>
                        <div class="action-info">
                            <strong>Production Tracking</strong>
                            <p>Record inbound/outbound production</p>
                        </div>
                    </button>
                    
                    <button class="action-btn" onclick="manageIngredients()">
                        <span class="action-icon">ü•Ñ</span>
                        <div class="action-info">
                            <strong>Manage Ingredients</strong>
                            <p>Track ingredients and suppliers</p>
                        </div>
                    </button>
                    
                    <button class="action-btn" onclick="logWastage()">
                        <span class="action-icon">üóëÔ∏è</span>
                        <div class="action-info">
                            <strong>Log Wastage</strong>
                            <p>Report discarded items</p>
                        </div>
                    </button>
                    
                    <button class="action-btn" onclick="requestSupplies()">
                        <span class="action-icon">üì¶</span>
                        <div class="action-info">
                            <strong>Request Supplies</strong>
                            <p>Submit supply requests</p>
                        </div>
                    </button>
                    
                    <button class="action-btn" onclick="viewRecipes()">
                        <span class="action-icon">üìñ</span>
                        <div class="action-info">
                            <strong>View Inventory</strong>
                            <p>Check current stock levels</p>
                        </div>
                    </button>
                    
                    <button class="action-btn" onclick="reportIssue()">
                        <span class="action-icon">üîß</span>
                        <div class="action-info">
                            <strong>Report Issue</strong>
                            <p>Equipment or safety concerns</p>
                        </div>
                    </button>
                </div>
            </section>
        </main>
    </div>

    <!-- Alert Details Modal -->
    <div id="alertDetailsModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeAlertModal()"></div>
        <div class="modal-content alert-modal">
            <div class="modal-header">
                <div class="alert-modal-icon">
                    <span id="modalAlertIcon">üî¥</span>
                </div>
                <div class="alert-modal-title">
                    <h2 id="modalAlertTitle">Alert Details</h2>
                    <span id="modalAlertSeverity" class="severity-badge urgent">URGENT</span>
                </div>
                <button onclick="closeAlertModal()" class="modal-close-btn">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="alert-details-grid">
                    <div class="detail-section">
                        <h3>üìã Issue Description</h3>
                        <div class="detail-content">
                            <p id="modalAlertDescription">Flour stock has reached critically low levels and requires immediate attention.</p>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h3>üìä Current Status</h3>
                        <div class="detail-content">
                            <div class="status-item">
                                <span class="status-label">Current Stock:</span>
                                <span id="modalCurrentStock" class="status-value critical">15 kg</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Minimum Required:</span>
                                <span id="modalMinStock" class="status-value">50 kg</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Shortage Amount:</span>
                                <span id="modalShortage" class="status-value critical">35 kg (70% below minimum)</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Supplier:</span>
                                <span id="modalSupplier" class="status-value">Golden Wheat Co.</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h3>‚è∞ Timeline & Impact</h3>
                        <div class="detail-content">
                            <div class="timeline-item">
                                <span class="timeline-dot urgent"></span>
                                <div class="timeline-content">
                                    <strong>Alert Triggered:</strong> Just now
                                    <p>Stock fell below 20 kg threshold</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <span class="timeline-dot warning"></span>
                                <div class="timeline-content">
                                    <strong>Production Impact:</strong> High Risk
                                    <p>Insufficient stock for today's 60 Classic Pau order</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <span class="timeline-dot info"></span>
                                <div class="timeline-content">
                                    <strong>Estimated Depletion:</strong> 2-3 hours
                                    <p>At current production rate</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h3>üéØ Recommended Actions</h3>
                        <div class="detail-content">
                            <div class="action-checklist">
                                <label class="checklist-item">
                                    <input type="checkbox" class="action-checkbox">
                                    <span class="checkmark"></span>
                                    <div class="action-text">
                                        <strong>Immediate:</strong> Contact Golden Wheat Co. for emergency delivery
                                        <small>ETA: 2-4 hours | Cost: +$50 rush fee</small>
                                    </div>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" class="action-checkbox">
                                    <span class="checkmark"></span>
                                    <div class="action-text">
                                        <strong>Priority:</strong> Adjust production schedule to conserve flour
                                        <small>Postpone non-critical pau production</small>
                                    </div>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" class="action-checkbox">
                                    <span class="checkmark"></span>
                                    <div class="action-text">
                                        <strong>Notify:</strong> Inform supervisor and update inventory system
                                        <small>Document shortage and response actions</small>
                                    </div>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" class="action-checkbox">
                                    <span class="checkmark"></span>
                                    <div class="action-text">
                                        <strong>Follow-up:</strong> Review reorder point settings
                                        <small>Prevent future stockouts</small>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <div class="footer-actions">
                    <button onclick="contactSupplier()" class="action-btn primary large">
                        <span>üìû</span> Contact Golden Wheat Co.
                    </button>
                    <button onclick="notifySupervisor()" class="action-btn secondary large">
                        <span>üë•</span> Notify Supervisor
                    </button>
                    <button onclick="updateProduction()" class="action-btn secondary large">
                        <span>üìã</span> Update Production Plan
                    </button>
                </div>
                <div class="footer-info">
                    <small>Alert ID: ALERT-2025-07-23-001 | Priority: Critical | Auto-refresh: 5 min</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Production Plan Modal -->
    <div id="productionPlanModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeProductionPlanModal()"></div>
        <div class="modal-content production-modal">
            <div class="modal-header">
                <div class="production-modal-icon">
                    <span>üìã</span>
                </div>
                <div class="production-modal-title">
                    <h2>Production Plan Adjustment</h2>
                    <span class="severity-badge warning">CHAR SIEW SHORTAGE</span>
                </div>
                <button onclick="closeProductionPlanModal()" class="modal-close-btn">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="production-status">
                    <h3>ü•© Current Char Siew Status</h3>
                    <div class="status-grid">
                        <div class="status-item">
                            <span class="status-label">Available:</span>
                            <span class="status-value critical">3 kg</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Required for today:</span>
                            <span class="status-value">8 kg</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Shortage:</span>
                            <span class="status-value critical">5 kg</span>
                        </div>
                    </div>
                </div>

                <div class="production-options">
                    <h3>üéØ Select Adjustment Option</h3>
                    <div class="options-grid">
                        <label class="option-card" for="option1">
                            <input type="radio" id="option1" name="productionOption" value="reduce">
                            <div class="option-content">
                                <div class="option-header">
                                    <span class="option-icon">üìâ</span>
                                    <h4>Reduce Production</h4>
                                </div>
                                <div class="option-details">
                                    <p><strong>Action:</strong> Reduce Char Siew Pau from 40 to 15 units</p>
                                    <p><strong>Savings:</strong> 5 kg Char Siew</p>
                                    <p><strong>Impact:</strong> -25 units today</p>
                                    <div class="option-metrics">
                                        <span class="metric good">‚úÖ Conserves stock</span>
                                        <span class="metric warning">‚ö†Ô∏è Reduced revenue</span>
                                    </div>
                                </div>
                            </div>
                        </label>

                        <label class="option-card" for="option2">
                            <input type="radio" id="option2" name="productionOption" value="substitute">
                            <div class="option-content">
                                <div class="option-header">
                                    <span class="option-icon">üîÑ</span>
                                    <h4>Substitute Products</h4>
                                </div>
                                <div class="option-details">
                                    <p><strong>Replace 25 Char Siew Pau with:</strong></p>
                                    <ul>
                                        <li>15 Red Bean Pau (high demand)</li>
                                        <li>10 Vegetarian Bao (lower cost)</li>
                                    </ul>
                                    <div class="option-metrics">
                                        <span class="metric good">‚úÖ Maintains revenue</span>
                                        <span class="metric good">‚úÖ Popular alternatives</span>
                                    </div>
                                </div>
                            </div>
                        </label>

                        <label class="option-card" for="option3">
                            <input type="radio" id="option3" name="productionOption" value="delay">
                            <div class="option-content">
                                <div class="option-header">
                                    <span class="option-icon">‚è∞</span>
                                    <h4>Delay Production</h4>
                                </div>
                                <div class="option-details">
                                    <p><strong>Today:</strong> 20 Char Siew Pau only</p>
                                    <p><strong>Tomorrow:</strong> +20 units added to schedule</p>
                                    <p><strong>Emergency delivery:</strong> Expected 4:30 PM</p>
                                    <div class="option-metrics">
                                        <span class="metric good">‚úÖ Full recovery tomorrow</span>
                                        <span class="metric warning">‚ö†Ô∏è Customer notifications needed</span>
                                    </div>
                                </div>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="production-preview" id="productionPreview" style="display: none;">
                    <h3>üìä Impact Preview</h3>
                    <div class="preview-content" id="previewContent">
                        <!-- Dynamic content will be inserted here -->
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <div class="footer-actions">
                    <button onclick="closeProductionPlanModal()" class="action-btn secondary large">
                        <span>‚ùå</span> Cancel
                    </button>
                    <button onclick="applyProductionPlan()" class="action-btn primary large" id="applyBtn" disabled>
                        <span>‚úÖ</span> Apply Changes
                    </button>
                </div>
                <div class="footer-info">
                    <small>Changes will be applied immediately and team notifications sent</small>
                </div>
            </div>
        </div>
    </div>
    
    <script src="staff-dashboard.js"></script>
</body>
</html>
